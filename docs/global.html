 <!DOCTYPE html>
<html>
<head> <meta charset="UTF-8" /> <title>global &raquo; Capri - Classic object oriented JavaScript</title> <meta name="description" content="API documentation for open source project Capri." /> <meta name="keywords" content="docs, documentation, api, javascript, capri, jquery, jquery plugin, javascript framework, oop, object-oriented, classes, namespaces, classical, inheritance" /> <script src="http://shjs.sourceforge.net/sh_main.min.js"></script> <script src="http://shjs.sourceforge.net/lang/sh_javascript.min.js"></script> <link rel="stylesheet" type="text/css" href="../style/syntax.css" /> <link rel="stylesheet" type="text/css" href="../style/main.css" /> <link rel="stylesheet" type="text/css" href="../style/docs.css" /> <link rel="stylesheet" type="text/css" media="print" href="http://capri.rotorz.com/style/print.css" /> <link rel="alternate" type="application/rss+xml" title="Rotorz &raquo; Capri Feed" href="http://rotorz.com/blog/category/capri/feed/" /> <link rel="alternate" type="application/rss+xml" title="Rotorz &raquo; Feed" href="http://rotorz.com/blog/feed/" /> <!--[if lt IE 9]> <script type="text/javascript" src="../script/ie-html5-fix.js"></script> <![endif]--> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-23827175-1']); _gaq.push(['_setDomainName', '.rotorz.com']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script>
</head>
<body class="capri-api-docs context-type-namespace id-global"> <div class="wrap"> <header id="page-header"> <nav class="site-nav" role="navigation"> <ul> <li class="first"><a href="http://capri.rotorz.com">Home</a></li> <li><a href="http://capri.rotorz.com/about.html">About</a></li> <li><a href="http://capri.rotorz.com/getting-started.html">Docs</a></li> <li class="last"><a href="http://rotorz.com/blog/category/capri">Blog</a></li> </ul> </nav> <a class="home" href="http://capri.rotorz.com"><img src="http://capri.rotorz.com/img/home.png" alt="Capri" /></a> <nav class="sub-nav" role="navigation"> <ul> <li><a href="http://capri.rotorz.com/getting-started.html">Getting Started</a></li> <li><a href="http://capri.rotorz.com/tutorial/index.html">Tutorials</a></li> <li><a href="http://capri.rotorz.com/docs/global.html">API</a></li> <li><a href="http://capri.rotorz.com/how-to-build.html">How to Build</a></li> </ul> </nav> </header> <div class="content-wrap"> <div id="doc-content"> <section class="container-namespace"> <header> <h1>global<span class="container-type">Namespace</span></h1> </header> <article> <div class="container-body"> </div> <h3>Namespaces</h3> <ul class="toc"> <li> <a href="capri.html">capri</a> <div class="summary"><div class="para">Capri project namespace</div></div> </li> <li> <a href="jquery.html">jQuery</a> </li> </ul> <h3>Fields</h3> <dl> <dt class="field-body" id="$global"> <h4 id="$global">$global</h4>
</dt>
<dd> <div class="summary"><div class="para">Global namespace</div></div> <div class="description"><div class="para"> Assumes <samp>window</samp> within a web browser or <samp>global</samp> in nodejs.</div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/core.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/core.js#L15">Line: 15</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-core.html">capri/core</a>&nbsp;) </dd> </dl> </dd> </dl> <h3>Methods</h3> <ul class="toc"> <li><a href="#$class">$class(name, members, [staticMembers])<span class="type-signature" style="white-space: nowrap;"> -> {object}</span></a></li> <li><a href="#$class-alt-1">$class(name, extends, members, [staticMembers])<span class="type-signature" style="white-space: nowrap;"> -> {object}</span></a></li> <li><a href="#$class,add">$class.add(class, [members], [static], [staticFilter])<span class="type-signature" style="white-space: nowrap;"> -> {class}</span></a></li> <li><a href="#$clientUri">$clientUri(uri, [query])<span class="type-signature" style="white-space: nowrap;"> -> {string}</span></a></li> <li><a href="#$include">$include(uri, [callback], [force])</a></li> <li><a href="#$include,process">$include.process()</a></li> <li><a href="#$namespace">$namespace(ns, [extension])<span class="type-signature" style="white-space: nowrap;"> -> {object}</span></a></li> <li><a href="#$namespace-alt-1">$namespace(ns, define)<span class="type-signature" style="white-space: nowrap;"> -> {object|undefined}</span></a></li> <li><a href="#$namespace,getBaseId">$namespace.getBaseId(ns)<span class="type-signature" style="white-space: nowrap;"> -> {string}</span></a></li> <li><a href="#$namespace,getId">$namespace.getId(ns)<span class="type-signature" style="white-space: nowrap;"> -> {string}</span></a></li> <li><a href="#$namespace,use">$namespace.use(ns, fn)<span class="type-signature" style="white-space: nowrap;"> -> {mixed}</span></a></li> <li><a href="#$startup">$startup(callback)</a></li> <li><a href="#$startup,process"><span class="type-signature">&lt;protected&gt;</span> $startup.process()</a></li> </ul> <dl> <dt class="method-body" id="$class"> <h4 id="$class">$class(name, members, [staticMembers])<span class="type-signature" style="white-space: nowrap;"> -> {object}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Define new class using the classical approach</div></div> <div class="description"><div class="para"> <strong>Supported Features:</strong> <ul> <li>Inheritance and Polymorphism</li> <li>Object constructor</li> <li>Static members</li> <li>Static constructor</li> </ul> </div></div> <dl class="details"> <dt class="detail-see">See</dt> <dd class="detail-see"> <ul> <li><div class="para"><a href="capri-object.html">capri.Object</a></div></li> </ul> </dd> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/oop.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/oop.js#L191">Line: 191</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-oop.html">capri/oop</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="param-argument">Argument</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">name</code></td> <td class="param-type">string</td> <td class="param-argument"></td> <td class="description"><div class="para">Name of class (may optionally specify namespace)</div></td> </tr> <tr> <td class="param-name"><code class="name">members</code></td> <td class="param-type">object</td> <td class="param-argument"></td> <td class="description"><div class="para">Per-instance methods, fields, etc.</div></td> </tr> <tr> <td class="param-name"><code class="name">staticMembers</code></td> <td class="param-type">object</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Static methods, fields, etc.</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Class reference</div></div><dt>Type</dt><dd><span class="param-type">object</span></dd></dl> <h5>Examples</h5> <p class="example-caption">Ex#1. Define class for product details</p> <pre class="example sh_javascript"><code>$class(&#039;ProductDetails&#039;, {
   __construct: function(type, title, price) {
      this.type = type;
      this.title = title;
      this.price = price;
   },
   toString: function() {
      return this.type + &#039;: &#039; + this.title + &#039; ($&#039; + this.price + &#039;)&#039;;
   }
});</code></pre> <p class="example-caption">Ex#2. Usage of product details class</p> <pre class="example sh_javascript"><code>book = new ProductDetails(&#039;book&#039;, &#039;War of the Worlds&#039;, &#039;4.99&#039;);
console.log(book.toString());</code></pre> <p class="example-caption">Ex#3. Mathematical vector with usage example</p> <pre class="example sh_javascript"><code>$class(&#039;mygame.Vector2d&#039;, {
   __construct: function(x, y) {
      this.x = x || 0;
      this.y = y || 0;
   },
   normalise: function() {
      var mag = this.magnitude();
      this.x /= mag;
      this.y /= mag;
   },
   magnitude: function() {
      return Math.sqrt(this.x * this.x + this.y * this.y);
   },
   dot: function(b) {
      return this.x * b.x + this.y * b.y;
   },
   smallestAngle: function(b) {
      // Convert from radians to degrees
      return Math.acos(this.dot(b)) * 57.2957795;
   }
},{//STATIC
   __static: function() { // static constructor
      // this is alias of mygame.Vector2d
      this.north = new this(0, -1);
   }
});

// Unit vector for velocity of entity
vel = new mygame.Vector2d(15, 0);
vel.normalise();

// Calculate angle of vector (in degrees 0-360) relative to north
angle = vel.smallestAngle(mygame.Vector2d.north);
angle = vel.x &amp;lt; 0 ? 360 - angle : angle;

// angle ~ 90 degrees</code></pre> </dd> <dt class="method-body" id="$class"> <h4 id="$class-alt-1">$class(name, extends, members, [staticMembers])<span class="type-signature" style="white-space: nowrap;"> -> {object}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Define new class by extending an existing class</div></div> <dl class="details"> <dt class="detail-see">See</dt> <dd class="detail-see"> <ul> <li><div class="para"><a href="capri-object.html">capri.Object</a></div></li> </ul> </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="param-argument">Argument</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">name</code></td> <td class="param-type">string</td> <td class="param-argument"></td> <td class="description"><div class="para">Name of class (may optionally specify namespace)</div></td> </tr> <tr> <td class="param-name"><code class="name">extends</code></td> <td class="param-type">string | object</td> <td class="param-argument"></td> <td class="description"><div class="para">Name or reference of class</div></td> </tr> <tr> <td class="param-name"><code class="name">members</code></td> <td class="param-type">object</td> <td class="param-argument"></td> <td class="description"><div class="para">Per-instance methods, fields, etc.</div></td> </tr> <tr> <td class="param-name"><code class="name">staticMembers</code></td> <td class="param-type">object</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Static methods, fields, etc.</div></td> </tr> </tbody>
</table> <h5>Throws:</h5><dl class="type-details throws"><div class="type-desc"><div class="para">Thrown on invalid parameter</div></div><dt>Type</dt><dd><span class="param-type"><a href="capri-error.html">capri.Error</a></span></dd></dl> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Class reference</div></div><dt>Type</dt><dd><span class="param-type">object</span></dd></dl> <h5>Examples</h5> <p class="example-caption">Ex#1. Define class that represents a key entity</p> <pre class="example sh_javascript"><code>$class(&#039;mygame.Entity&#039;, {
   __construct: function(x, y) {
      this.x = x;
      this.y = y;
   },
   process: function() {},
   render: function(dc) {},
   distanceTo: function(x, y) {
      return Math.sqrt(Math.pow(x - this.x, 2) + Math.pow(y - this.y, 2));
   }
});

$class(&#039;mygame.Key&#039;, &#039;mygame.Entity&#039;, {
   __construct: function(x, y, doorName) {
      this.callSuper(mygame.Entity, &#039;__construct&#039;, x, y);
      // Name of door that key can open
      this.doorName = doorName;
   },
   render: function(dc) {
      dc.fillStyle = &#039;yellow&#039;;
      dc.fillRect(this.x, this.y, 5, 5);
   }
});</code></pre> <p class="example-caption">Ex#2. Create instance of class</p> <pre class="example sh_javascript"><code>key = new mygame.Key(300, 400, &#039;yellow&#039;);
sceneNode.push(key);</code></pre> <p class="example-caption">Ex#3. Utilise instance method of object</p> <pre class="example sh_javascript"><code>d = key.distanceTo(0, 0); // 500</code></pre> </dd> <dt class="method-body" id="$class,add"> <h4 id="$class,add">$class.add(class, [members], [static], [staticFilter])<span class="type-signature" style="white-space: nowrap;"> -> {class}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Add instance and/or static members to existing class</div></div> <div class="description"><div class="para"> Note: New members are also added to classes that inherit specified class. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/oop.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/oop.js#L400">Line: 400</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-oop.html">capri/oop</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="param-argument">Argument</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">class</code></td> <td class="param-type">string | class</td> <td class="param-argument"></td> <td class="description"><div class="para">Name or reference of class</div></td> </tr> <tr> <td class="param-name"><code class="name">members</code></td> <td class="param-type">object | null</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">New instance members</div></td> </tr> <tr> <td class="param-name"><code class="name">static</code></td> <td class="param-type">object | null</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">New static members</div></td> </tr> <tr> <td class="param-name"><code class="name">staticFilter</code></td> <td class="param-type">function</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Callback that is used to filter static members</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Input class is returned</div></div><dt>Type</dt><dd><span class="param-type">class</span></dd></dl> <h5>Example</h5> <p class="example-caption">Add new functions to existing class</p> <pre class="example sh_javascript"><code>$class(&#039;Test&#039;, {
   foo: function() {
      return &#039;hey&#039;;
   }
});

var obj = new Test();
obj.baz; // undefined

$class.add(Test, {
   bar: function() {
      return this.baz;
   },
   baz: 42
});

obj.baz; // 42</code></pre> </dd> <dt class="method-body" id="$clientUri"> <h4 id="$clientUri">$clientUri(uri, [query])<span class="type-signature" style="white-space: nowrap;"> -> {string}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Resolve URI for use in client</div></div> <div class="description"><div class="para"> Generate URI for use in client (web browser) by replacing tilde <samp>~</samp> character with base URI of website. Additional query arguments can be added to URI for convenience. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/doc-manager.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/doc-manager.js#L18">Line: 18</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-doc-manager.html">capri/doc-manager</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="param-argument">Argument</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">uri</code></td> <td class="param-type">string</td> <td class="param-argument"></td> <td class="description"><div class="para">URI that must be resolved</div></td> </tr> <tr> <td class="param-name"><code class="name">query</code></td> <td class="param-type">string | object</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Query arguments</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Resolved URI</div></div><dt>Type</dt><dd><span class="param-type">string</span></dd></dl> <h5>Example</h5> <p class="example-caption"></p> <pre class="example sh_javascript"><code>// Initialise base URI of website
capri.DocumentManager.setBaseUri(&#039;http://example.com/blog/&#039;);

// elsewhere...

uri = $clientUri(&#039;~/about&#039;, &#039;section=intro&#039;);
// &quot;http://example.com/blog/about?section=intro&quot;

uri = $clientUri(&#039;http://example.com/blog/about&#039;, &#039;section=intro&#039;);
// &quot;http://example.com/blog/about?section=intro&quot;

uri = $clientUri(&#039;~/about?section=intro&#039;, &#039;labels=off&#039;);
// &quot;http://example.com/blog/about?section=intro&amp;labels=off&quot;</code></pre> </dd> <dt class="method-body" id="$include"> <h4 id="$include">$include(uri, [callback], [force])</h4>
</dt>
<dd> <div class="summary"><div class="para">Dynamically include script or stylesheet</div></div> <div class="description"><div class="para"> Note: Tilde <samp>~</samp> can be used in place of base URI of application if document base URI has been specified (see Ex#2). </div></div> <dl class="details"> <dt class="detail-see">See</dt> <dd class="detail-see"> <ul> <li><div class="para"><a href="capri-documentmanager.html">capri.DocumentManager</a></div></li> </ul> </dd> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/doc-manager.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/doc-manager.js#L98">Line: 98</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-doc-manager.html">capri/doc-manager</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="param-argument">Argument</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">uri</code></td> <td class="param-type">string</td> <td class="param-argument"></td> <td class="description"><div class="para">URI</div></td> </tr> <tr> <td class="param-name"><code class="name">callback</code></td> <td class="param-type">function | null</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Callback executed once script has loaded</div></td> </tr> <tr> <td class="param-name"><code class="name">force</code></td> <td class="param-type">boolean</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Defaults to <samp>false</samp>. <ul> <li><samp>true</samp> - force execution of script</li> <li><samp>false</samp> - avoid execution of script if previously executed</li> </ul></div></td> </tr> </tbody>
</table> <h5>Examples</h5> <p class="example-caption">Ex#1. Include absolute URI</p> <pre class="example sh_javascript"><code>$include(&#039;http://example.com/js/myscript.js&#039;);</code></pre> <p class="example-caption">Ex#2. Include with Base URI</p> <pre class="example sh_javascript"><code>$include(&#039;~/js/myscript.js&#039;);</code></pre> <p class="example-caption">Ex#3. Includes with callback</p> <pre class="example sh_javascript"><code>$include(&#039;~/js/first.js&#039;);
$include(&#039;~/js/second.js&#039;, function() {
   // Callback invoked once both &#039;first.js&#039; and &#039;second.js&#039; have loaded.
   // Will not execute if script throwns an exception during loading.
});</code></pre> <p class="example-caption">Ex#4. Force re-inclusion of previously included script</p> <pre class="example sh_javascript"><code>$include(&#039;~/js/render-object.js&#039;, null, true);
$include(&#039;~/js/render-object.js&#039;, null, true);
$include.process();</code></pre> </dd> <dt class="method-body" id="$include,process"> <h4 id="$include,process">$include.process()</h4>
</dt>
<dd> <div class="summary"><div class="para">Process queued script and stylesheet includes</div></div> <div class="description"><div class="para"> Dynamic includes must be manually processed once initial startup has completed. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/doc-manager.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/doc-manager.js#L139">Line: 139</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-doc-manager.html">capri/doc-manager</a>&nbsp;) </dd> </dl> <h5>Throws:</h5><dl class="type-details throws"><div class="type-desc"><div class="para">Cannot process includes until page has finished loading</div></div><dt>Type</dt><dd><span class="param-type"><a href="capri-error.html">capri.Error</a></span></dd></dl> <h5>Example</h5> <p class="example-caption">Perform script inclusion</p> <pre class="example sh_javascript"><code>function setWindowSkin(skinName) {
   // Note: This is merely an example of how dynamic includes might be used!

   // Queue includes
   $include(&#039;~/skin/&#039; + skinName + &#039;/style.css&#039;);
   $include(&#039;~/skin/&#039; + skinName + &#039;/skin.js&#039;, function() {
      // Apply velvit skin to application window
      $(&#039;#app-window&#039;)
         .applyAppSkin(skinName);
   });

   // Process includes
   $include.process();
}</code></pre> </dd> <dt class="method-body" id="$namespace"> <h4 id="$namespace">$namespace(ns, [extension])<span class="type-signature" style="white-space: nowrap;"> -> {object}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Define or acquire access to namespace </div></div> <div class="description"><div class="para"> Namespace will be defined if it doesn't already exist. Members can be added to a namespace by specifying extension object (see Ex#3).</div><div class="para">Web applications often make extensive use of JavaScript to provide an extensive interactive experience. Some of these scripts will be custom written whilst others may be third-party libraries. Occasionally scripts will conflict with one another due to multiple use of the same identifier.</div><div class="para">Conflicts can easily be avoided within custom written scripts by defining functions, classes and variables within a vendor specific namespace. This function aims to ease namespace usage. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/oop.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/oop.js#L20">Line: 20</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-oop.html">capri/oop</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="param-argument">Argument</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">ns</code></td> <td class="param-type">string | object</td> <td class="param-argument"></td> <td class="description"><div class="para">Namespace to lookup</div></td> </tr> <tr> <td class="param-name"><code class="name">extension</code></td> <td class="param-type">object</td> <td class="param-argument">&lt;optional&gt;</td> <td class="description"><div class="para">Extension members to add</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Namespace object</div></div><dt>Type</dt><dd><span class="param-type">object</span></dd></dl> <h5>Examples</h5> <p class="example-caption">Ex#1. Access namespace</p> <pre class="example sh_javascript"><code>$namespace(&#039;my.special&#039;).foo();</code></pre> <p class="example-caption">Ex#2. Ensure that namespace is defined</p> <pre class="example sh_javascript"><code>$namespace(&#039;my.special&#039;);

// The following would fail if &quot;my&quot; namespace had not been defined. Above use
// of $namespace avoids ReferenceError exception.
if (my.special.foo)
   my.special.foo();</code></pre> <p class="example-caption">Ex#3. Add members to namespace</p> <pre class="example sh_javascript"><code>$namespace(&#039;my.special&#039;, {
   foo: function() {
   }
});</code></pre> <p class="example-caption">Ex#4. Access global namespace</p> <pre class="example sh_javascript"><code>// Easy way to access global namespace:
$global.globalVar = 42;
$namespace($global, {
   globalFunction: function() {
      console.log(&#039;Global function!&#039;);
   }
});

// Alternative:
$namespace(&#039;&#039;).globalVar = 42;
$namespace(&#039;&#039;, {
   globalFunction: function() {
      console.log(&#039;Global function!&#039;);
   }
});</code></pre> </dd> <dt class="method-body" id="$namespace"> <h4 id="$namespace-alt-1">$namespace(ns, define)<span class="type-signature" style="white-space: nowrap;"> -> {object|undefined}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Acquire access to an existing namespace</div></div> <dl class="details"> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">ns</code></td> <td class="param-type">string | object</td> <td class="description"><div class="para">Namespace to lookup</div></td> </tr> <tr> <td class="param-name"><code class="name">define</code></td> <td class="param-type">boolean</td> <td class="description"><div class="para"><samp>false</samp> prevents namespace from being defined</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Namespace object or <samp>undefined</samp> if namespace is not defined.</div></div><dt>Type</dt><dd><span class="param-type">object | undefined</span></dd></dl> <h5>Example</h5> <p class="example-caption">Find out if namespace is defined</p> <pre class="example sh_javascript"><code>var ns = $namespace(&#039;my.special.namespace&#039;);
if (ns !== undefined)
   console.log(&#039;Namespace is defined&#039;);
else
   console.log(&#039;Namespace is NOT defined&#039;);</code></pre> </dd> <dt class="method-body" id="$namespace,getBaseId"> <h4 id="$namespace,getBaseId">$namespace.getBaseId(ns)<span class="type-signature" style="white-space: nowrap;"> -> {string}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Get base ID of namespace</div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/oop.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/oop.js#L134">Line: 134</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-oop.html">capri/oop</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">ns</code></td> <td class="param-type">string</td> <td class="description"><div class="para">Namespace to lookup</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Base ID as string</div></div><dt>Type</dt><dd><span class="param-type">string</span></dd></dl> <h5>Example</h5> <p class="example-caption"></p> <pre class="example sh_javascript"><code>$namespace.getBaseId(&#039;my.special.namespace&#039;);
// &quot;my.special&quot;</code></pre> </dd> <dt class="method-body" id="$namespace,getId"> <h4 id="$namespace,getId">$namespace.getId(ns)<span class="type-signature" style="white-space: nowrap;"> -> {string}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Get ID of namespace</div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/oop.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/oop.js#L118">Line: 118</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-oop.html">capri/oop</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">ns</code></td> <td class="param-type">string</td> <td class="description"><div class="para">Namespace to lookup</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">ID as string</div></div><dt>Type</dt><dd><span class="param-type">string</span></dd></dl> <h5>Example</h5> <p class="example-caption"></p> <pre class="example sh_javascript"><code>$namespace.getId(&#039;my.special.namespace&#039;);
// &quot;namespace&quot;</code></pre> </dd> <dt class="method-body" id="$namespace,use"> <h4 id="$namespace,use">$namespace.use(ns, fn)<span class="type-signature" style="white-space: nowrap;"> -> {mixed}</span></h4>
</dt>
<dd> <div class="summary"><div class="para">Use alias to access namespace</div></div> <div class="description"><div class="para"> Shorter aliases can be used to access namespaces within a specified scope. This avoids repeatedly entering long namespaces. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/oop.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/oop.js#L151">Line: 151</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-oop.html">capri/oop</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">ns</code></td> <td class="param-type">string</td> <td class="description"><div class="para">Namespace to lookup</div></td> </tr> <tr> <td class="param-name"><code class="name">fn</code></td> <td class="param-type">function</td> <td class="description"><div class="para">Scope to use namespace within</div></td> </tr> </tbody>
</table> <h5>Returns:</h5><dl class="type-details returns"><div class="type-desc"><div class="para">Value returned by scope <samp>fn</samp></div></div></dl> <h5>Examples</h5> <p class="example-caption">Ex#1. Use single namespace</p> <pre class="example sh_javascript"><code>$namespace.use(&#039;my.special.namespace&#039;, function($myns) {
   // Both of the following lines are equivalent:
   $myns.foo();
   my.special.namespace.foo();
});</code></pre> <p class="example-caption">Ex#2. Use multiple namespaces</p> <pre class="example sh_javascript"><code>$namespace.use([ &#039;my.special.namespace&#039;, jQuery ], function($myns, $) {
   // Both of the following lines are equivalent:
   $(&#039;#my-element&#039;).text($myns.foo());
   jQuery(&#039;#my-element&#039;).text(my.special.namespace.foo());
});</code></pre> </dd> <dt class="method-body" id="$startup"> <h4 id="$startup">$startup(callback)</h4>
</dt>
<dd> <div class="summary"><div class="para">Execute callback upon startup</div></div> <div class="description"><div class="para"> Callback is executed once both DOM and includes have been loaded. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/doc-manager.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/doc-manager.js#L50">Line: 50</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-doc-manager.html">capri/doc-manager</a>&nbsp;) </dd> </dl> <h5>Parameters</h5> <table class="params">
<thead> <tr> <th class="param-name">Name</th> <th class="param-type">Type</th> <th class="description">Description</th> </tr>
</thead>
<tbody> <tr> <td class="param-name"><code class="name">callback</code></td> <td class="param-type">function | function[]</td> <td class="description"><div class="para">One or more callbacks</div></td> </tr> </tbody>
</table> <h5>Example</h5> <p class="example-caption"></p> <pre class="example sh_javascript"><code>$include(&#039;~/css/jquery/special.css&#039;);
$include(&#039;~/js/jquery.special.js&#039;);

$startup(function() {
   // Special plugin is available because includes have been processed
   $(&#039;#special-widget&#039;).specialPlugin();
});</code></pre> </dd> <dt class="method-body" id="$startup,process"> <h4 id="$startup,process"><span class="type-signature">&lt;protected&gt;</span> $startup.process()</h4>
</dt>
<dd> <div class="summary"><div class="para">Process startup scripts explicitly</div></div> <div class="description"><div class="para"> Note: Startup scripts are usually processed automatically. </div></div> <dl class="details"> <dt class="detail-source">Source:</dt> <dd class="detail-source"> <span class="filepath">module/doc-manager.js</span>, <a class="lineno" href="https://github.com/rotorz/capri/blob/master/module/doc-manager.js#L72">Line: 72</a> &nbsp;&nbsp;&nbsp;(&nbsp;Module: <a href="module.capri-doc-manager.html">capri/doc-manager</a>&nbsp;) </dd> </dl> <h5>Throws:</h5><dl class="type-details throws"><div class="type-desc"><div class="para">Thrown when invalid startup script is encountered</div></div><dt>Type</dt><dd><span class="param-type"><a href="capri-error.html">capri.Error</a></span></dd></dl> </dd> </dl> </article>
</section> </div><!-- #doc-content --> <nav id="doc-nav">
<ul role="navigation"> <li> <h3>Classes</h3> <ul> <li><a href="capri-error.html">capri.Error</a></li> <li><a href="capri-hook.html">capri.Hook</a></li> <li><a href="capri-object.html">capri.Object</a></li> <li><a href="capri-ui-widget.html">capri.ui.Widget</a></li> </ul> </li> <li> <h3>Namespaces</h3> <ul> <li><a href="capri.html">capri</a></li> <li><a href="capri-documentmanager.html">capri.DocumentManager</a></li> <li><a href="capri-ui.html">capri.ui</a></li> <li><a href="jquery-fn.html">jQuery.fn</a></li> </ul> </li> <li> <h3>Global</h3> <ul> <li><a href="global.html#$class">$class</a></li> <li><a href="global.html#$class,add">$class.add</a></li> <li><a href="global.html#$clientUri">$clientUri</a></li> <li><a href="global.html#$include">$include</a></li> <li><a href="global.html#$include,process">$include.process</a></li> <li><a href="global.html#$namespace">$namespace</a></li> <li><a href="global.html#$namespace,getBaseId">$namespace.getBaseId</a></li> <li><a href="global.html#$namespace,getId">$namespace.getId</a></li> <li><a href="global.html#$namespace,use">$namespace.use</a></li> <li><a href="global.html#$startup">$startup</a></li> <li><a href="global.html#$startup,process">$startup.process</a></li> </ul> </li> <li> <h3>Modules</h3> <ul> <li><a href="module.capri-browser.html">capri/browser</a></li> <li><a href="module.capri-compat.html">capri/compat</a></li> <li><a href="module.capri-core.html">capri/core</a></li> <li><a href="module.capri-doc-manager.html">capri/doc-manager</a></li> <li><a href="module.capri-hook.html">capri/hook</a></li> <li><a href="module.capri-oop.html">capri/oop</a></li> <li><a href="module.capri-widget.html">capri/widget</a></li> </ul> </li> </ul></nav> <div class="clear"></div> <div class="generator">Documentation generated by CapriDoc (inspired by jsdoc) on Fri Oct 28 2011 00:35:05 GMT+0100 (BST)</div> <div id="website-license"> <div class="left"> <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a> </div> <div class="right"> <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Capri Project Website</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://rotorz.com" property="cc:attributionName" rel="cc:attributionURL">Rotorz Limited</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a> </div> <div class="clear"></div>
</div> <footer id="page-footer"> <a class="rotorz-home" href="http://rotorz.com" title="Rotorz Limited Home Page"><img src="http://capri.rotorz.com/img/rotorz-badge.jpg" alt="Rotorz Limited" /></a> <nav role="navigation"> <ul> <li><a href="http://rotorz.com/blog/category/capri">Blog</a></li> <li><a href="http://capri.rotorz.com/contribute.html">Contribute</a></li> <li><a href="https://github.com/rotorz/capri">Repository</a></li> <li><a href="http://capri.rotorz.com/license.html">License</a></li> <li><a href="http://rotorz.com/projects">Projects</a></li> </ul> </nav> <small>&copy; 2010-2011 Rotorz Limited. All rights reserved.</small> </footer> </div><!-- .content-wrap --> </div><!-- .wrap --> <script>sh_highlightDocument();</script>
</body>
</html>